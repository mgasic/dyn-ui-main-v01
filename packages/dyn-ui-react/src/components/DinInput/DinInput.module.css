/**
 * DinInput Component Styles - 100% Design Token Compliance
 * 
 * Dio Input familije: DinInput, DinCheckbox, DinRadio, DinToggle, DinSelect
 * Svi koriste identične tokene za konzistentnost
 * 
 * Varijante: default, disabled, error, success, focused
 * Veličine: small, medium, large
 * Dark mode: Podrzan
 * A11y: WCAG AA+ (focus ring, aria attributes)
 */

/* ============================================
   COMPONENT TOKENS - Default (Light Mode)
   ============================================ */

:root {
  /* Foundation color tokens - Shared across Input family */
  --dyn-color-white: #FFFFFF;
  --dyn-color-black: #000000;
  --dyn-color-gray-50: #F5F5F5;
  --dyn-color-gray-100: #F0F0F0;
  --dyn-color-gray-200: #E0E0E0;
  --dyn-color-gray-400: #C0C0C0;
  --dyn-color-gray-600: #606060;
  --dyn-color-gray-900: #1A1A1A;
  --dyn-color-primary-60: #007ACC;
  --dyn-color-primary-80: #005A9E;
  --dyn-color-success-60: #28A745;
  --dyn-color-danger-60: #DC3545;

  /* Foundation spacing tokens */
  --dyn-spacing-1: 4px;
  --dyn-spacing-2: 8px;
  --dyn-spacing-3: 12px;
  --dyn-spacing-4: 16px;
  --dyn-spacing-5: 20px;

  /* Foundation typography tokens */
  --dyn-font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --dyn-font-size-small: 12px;
  --dyn-font-size-base: 14px;
  --dyn-font-size-large: 16px;
  --dyn-font-weight-regular: 400;
  --dyn-font-weight-medium: 500;
  --dyn-line-height-tight: 1.2;
  --dyn-line-height-normal: 1.5;

  /* Foundation border tokens */
  --dyn-border-width: 1px;
  --dyn-border-width-focus: 2px;
  --dyn-border-radius-sm: 4px;
  --dyn-border-radius-md: 6px;
  --dyn-border-color-default: #D0D0D0;
  --dyn-border-color-focus: var(--dyn-color-primary-60, #007ACC);
  --dyn-border-color-error: var(--dyn-color-danger-60, #DC3545);
  --dyn-border-color-success: var(--dyn-color-success-60, #28A745);

  /* Input Base tokens (Shared across Input family) */
  --dyn-input-bg: var(--dyn-color-white, #FFFFFF);
  --dyn-input-text: var(--dyn-color-gray-900, #1A1A1A);
  --dyn-input-placeholder: var(--dyn-color-gray-600, #606060);
  --dyn-input-border: var(--dyn-border-color-default, #D0D0D0);
  --dyn-input-border-radius: var(--dyn-border-radius-md, 6px);
  --dyn-input-font-size: var(--dyn-font-size-base, 14px);
  --dyn-input-font-family: var(--dyn-font-family-base);
  --dyn-input-line-height: var(--dyn-line-height-normal, 1.5);

  /* Input padding tokens */
  --dyn-input-padding-small: var(--dyn-spacing-1) var(--dyn-spacing-2);
  --dyn-input-padding-medium: var(--dyn-spacing-2) var(--dyn-spacing-3);
  --dyn-input-padding-large: var(--dyn-spacing-3) var(--dyn-spacing-4);

  /* Input focus tokens */
  --dyn-input-focus-bg: var(--dyn-color-white, #FFFFFF);
  --dyn-input-focus-border: var(--dyn-border-color-focus, #007ACC);
  --dyn-input-focus-shadow: 0 0 0 3px rgba(0, 122, 204, 0.1);
  --dyn-input-focus-ring: 2px solid var(--dyn-color-primary-60, #007ACC);

  /* Input error tokens */
  --dyn-input-error-bg: rgba(220, 53, 69, 0.05);
  --dyn-input-error-border: var(--dyn-border-color-error, #DC3545);
  --dyn-input-error-text: var(--dyn-color-danger-60, #DC3545);
  --dyn-input-error-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);

  /* Input success tokens */
  --dyn-input-success-bg: rgba(40, 167, 69, 0.05);
  --dyn-input-success-border: var(--dyn-border-color-success, #28A745);
  --dyn-input-success-text: var(--dyn-color-success-60, #28A745);
  --dyn-input-success-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);

  /* Input disabled tokens */
  --dyn-input-disabled-bg: var(--dyn-color-gray-100, #F0F0F0);
  --dyn-input-disabled-text: var(--dyn-color-gray-400, #C0C0C0);
  --dyn-input-disabled-border: var(--dyn-color-gray-200, #E0E0E0);
  --dyn-input-disabled-opacity: 0.6;

  /* Input label tokens */
  --dyn-input-label-font-size: var(--dyn-font-size-base, 14px);
  --dyn-input-label-font-weight: var(--dyn-font-weight-medium, 500);
  --dyn-input-label-text: var(--dyn-color-gray-900, #1A1A1A);
  --dyn-input-label-margin-bottom: var(--dyn-spacing-2, 8px);

  /* Input helper text tokens */
  --dyn-input-helper-font-size: var(--dyn-font-size-small, 12px);
  --dyn-input-helper-text: var(--dyn-color-gray-600, #606060);
  --dyn-input-helper-margin-top: var(--dyn-spacing-1, 4px);

  /* Transition tokens */
  --dyn-input-transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ============================================
   DARK MODE OVERRIDES
   ============================================ */

@media (prefers-color-scheme: dark) {
  :root {
    /* Dark mode colors */
    --dyn-color-white: #1A1A1A;
    --dyn-color-gray-50: #2D2D2D;
    --dyn-color-gray-100: #333333;
    --dyn-color-gray-900: #F5F5F5;
    --dyn-color-gray-600: #A0A0A0;
    --dyn-border-color-default: #404040;

    /* Input dark mode */
    --dyn-input-bg: var(--dyn-color-white, #1A1A1A);
    --dyn-input-text: var(--dyn-color-gray-900, #F5F5F5);
    --dyn-input-disabled-bg: var(--dyn-color-gray-100, #333333);
    --dyn-input-disabled-text: var(--dyn-color-gray-600, #A0A0A0);
  }
}

/* ============================================
   HIGH CONTRAST MODE
   ============================================ */

@media (prefers-contrast: more) {
  :root {
    --dyn-border-width: 2px;
    --dyn-border-color-default: var(--dyn-color-black, #000000);
  }
}

/* ============================================
   BASE INPUT
   ============================================ */

.input {
  display: block;
  width: 100%;
  padding: var(--dyn-input-padding-medium, 8px 12px);
  font-size: var(--dyn-input-font-size, 14px);
  font-family: var(--dyn-input-font-family, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif);
  font-weight: var(--dyn-font-weight-regular, 400);
  line-height: var(--dyn-input-line-height, 1.5);
  color: var(--dyn-input-text, var(--dyn-color-gray-900, #1A1A1A));
  background-color: var(--dyn-input-bg, var(--dyn-color-white, #FFFFFF));
  border: var(--dyn-border-width, 1px) solid var(--dyn-input-border, var(--dyn-border-color-default, #D0D0D0));
  border-radius: var(--dyn-input-border-radius, var(--dyn-border-radius-md, 6px));
  transition: var(--dyn-input-transition, all 250ms cubic-bezier(0.4, 0, 0.2, 1));
  box-sizing: border-box;
}

.input::placeholder {
  color: var(--dyn-input-placeholder, var(--dyn-color-gray-600, #606060));
  opacity: 1;
}

/* ============================================
   INPUT FOCUS STATE
   ============================================ */

.input:focus {
  outline: none;
  background-color: var(--dyn-input-focus-bg, var(--dyn-color-white, #FFFFFF));
  border-color: var(--dyn-input-focus-border, var(--dyn-border-color-focus, #007ACC));
  box-shadow: var(--dyn-input-focus-shadow, 0 0 0 3px rgba(0, 122, 204, 0.1));
}

.input:focus-visible {
  outline: var(--dyn-input-focus-ring, 2px solid #007ACC);
  outline-offset: 0;
}

/* ============================================
   INPUT SIZE VARIANTS
   ============================================ */

.inputSmall {
  padding: var(--dyn-input-padding-small, 4px 8px);
  font-size: var(--dyn-font-size-small, 12px);
}

.inputMedium {
  padding: var(--dyn-input-padding-medium, 8px 12px);
  font-size: var(--dyn-font-size-base, 14px);
}

.inputLarge {
  padding: var(--dyn-input-padding-large, 12px 16px);
  font-size: var(--dyn-font-size-large, 16px);
}

/* ============================================
   INPUT STATE: ERROR
   ============================================ */

.inputError {
  background-color: var(--dyn-input-error-bg, rgba(220, 53, 69, 0.05));
  border-color: var(--dyn-input-error-border, var(--dyn-border-color-error, #DC3545));
  color: var(--dyn-input-error-text, var(--dyn-color-danger-60, #DC3545));
}

.inputError:focus {
  box-shadow: var(--dyn-input-error-shadow, 0 0 0 3px rgba(220, 53, 69, 0.1));
  border-color: var(--dyn-input-error-border, var(--dyn-border-color-error, #DC3545));
}

/* ============================================
   INPUT STATE: SUCCESS
   ============================================ */

.inputSuccess {
  background-color: var(--dyn-input-success-bg, rgba(40, 167, 69, 0.05));
  border-color: var(--dyn-input-success-border, var(--dyn-border-color-success, #28A745));
  color: var(--dyn-input-success-text, var(--dyn-color-success-60, #28A745));
}

.inputSuccess:focus {
  box-shadow: var(--dyn-input-success-shadow, 0 0 0 3px rgba(40, 167, 69, 0.1));
  border-color: var(--dyn-input-success-border, var(--dyn-border-color-success, #28A745));
}

/* ============================================
   INPUT STATE: DISABLED
   ============================================ */

.inputDisabled,
input:disabled {
  background-color: var(--dyn-input-disabled-bg, var(--dyn-color-gray-100, #F0F0F0));
  color: var(--dyn-input-disabled-text, var(--dyn-color-gray-400, #C0C0C0));
  border-color: var(--dyn-input-disabled-border, var(--dyn-color-gray-200, #E0E0E0));
  opacity: var(--dyn-input-disabled-opacity, 0.6);
  cursor: not-allowed;
  pointer-events: none;
}

/* ============================================
   LABEL COMPONENT
   ============================================ */

.label {
  display: block;
  margin-bottom: var(--dyn-input-label-margin-bottom, var(--dyn-spacing-2, 8px));
  font-size: var(--dyn-input-label-font-size, var(--dyn-font-size-base, 14px));
  font-weight: var(--dyn-input-label-font-weight, var(--dyn-font-weight-medium, 500));
  color: var(--dyn-input-label-text, var(--dyn-color-gray-900, #1A1A1A));
}

.labelRequired::after {
  content: " *";
  color: var(--dyn-color-danger-60, #DC3545);
}

/* ============================================
   HELPER TEXT
   ============================================ */

.helperText {
  display: block;
  margin-top: var(--dyn-input-helper-margin-top, var(--dyn-spacing-1, 4px));
  font-size: var(--dyn-input-helper-font-size, var(--dyn-font-size-small, 12px));
  color: var(--dyn-input-helper-text, var(--dyn-color-gray-600, #606060));
  line-height: var(--dyn-line-height-tight, 1.2);
}

.helperTextError {
  color: var(--dyn-input-error-text, var(--dyn-color-danger-60, #DC3545));
}

.helperTextSuccess {
  color: var(--dyn-input-success-text, var(--dyn-color-success-60, #28A745));
}

/* ============================================
   INPUT WRAPPER
   ============================================ */

.inputGroup {
  display: flex;
  flex-direction: column;
  gap: var(--dyn-spacing-2, 8px);
  width: 100%;
}

.inputWrapper {
  display: flex;
  align-items: center;
  position: relative;
  width: 100%;
}

/* ============================================
   INPUT ICONS (PREFIX/SUFFIX)
   ============================================ */

.inputPrefix,
.inputSuffix {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--dyn-spacing-5, 20px);
  height: var(--dyn-spacing-5, 20px);
  color: var(--dyn-input-placeholder, var(--dyn-color-gray-600, #606060));
  pointer-events: none;
}

.inputPrefix {
  left: var(--dyn-spacing-2, 8px);
}

.inputSuffix {
  right: var(--dyn-spacing-2, 8px);
}

.inputWithPrefix {
  padding-left: var(--dyn-spacing-5, 20px) + var(--dyn-spacing-2, 8px) * 2;
}

.inputWithSuffix {
  padding-right: var(--dyn-spacing-5, 20px) + var(--dyn-spacing-2, 8px) * 2;
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

/* High contrast mode */
@media (prefers-contrast: more) {
  .input {
    border-width: var(--dyn-border-width, 2px);
  }

  .input:focus {
    outline-width: 2px;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .input {
    transition: none !important;
  }
}

/* ============================================
   RESPONSIVE
   ============================================ */

@media (max-width: 480px) {
  .input {
    /* Malo veca na mobilnim za bolje UX */
    padding: var(--dyn-input-padding-large, 12px 16px);
    font-size: var(--dyn-font-size-base, 14px);
  }

  .inputSmall {
    padding: var(--dyn-input-padding-medium, 8px 12px);
  }
}
