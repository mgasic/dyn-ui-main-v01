/**
 * DynBox Component Styles - Unified Component Token Strategy
 * Supports both component tokens and dynamic overrides
 */

.box {
  /* Base styles with isolation and override capability */
  display: var(--dyn-box-display, var(--dyn-box-display-block));
  position: var(--dyn-box-position, relative);
  box-sizing: border-box;
  font-family: inherit;

  /* Layout basics with overrides */
  width: var(--dyn-box-width, auto);
  height: var(--dyn-box-height, auto);
  min-width: var(--dyn-box-min-width, auto);
  min-height: var(--dyn-box-min-height, auto);
  max-width: var(--dyn-box-max-width, none);
  max-height: var(--dyn-box-max-height, none);

  /* Spacing (Longhand with Fallbacks) */
  padding-top: var(--dyn-box-padding-top, var(--dyn-box-padding, var(--dyn-box-spacing-padding-none)));
  padding-right: var(--dyn-box-padding-right, var(--dyn-box-padding, var(--dyn-box-spacing-padding-none)));
  padding-bottom: var(--dyn-box-padding-bottom, var(--dyn-box-padding, var(--dyn-box-spacing-padding-none)));
  padding-left: var(--dyn-box-padding-left, var(--dyn-box-padding, var(--dyn-box-spacing-padding-none)));

  margin-top: var(--dyn-box-margin-top, var(--dyn-box-margin, var(--dyn-box-spacing-margin-none)));
  margin-right: var(--dyn-box-margin-right, var(--dyn-box-margin, var(--dyn-box-spacing-margin-none)));
  margin-bottom: var(--dyn-box-margin-bottom, var(--dyn-box-margin, var(--dyn-box-spacing-margin-none)));
  margin-left: var(--dyn-box-margin-left, var(--dyn-box-margin, var(--dyn-box-spacing-margin-none)));

  gap: var(--dyn-box-gap, var(--dyn-box-spacing-gap-default));

  /* Colors and effects with overrides */
  background-color: var(--dyn-box-bg, var(--dyn-box-color-bg-transparent));
  color: var(--dyn-box-color, var(--dyn-box-text-default));
  
  border: var(--dyn-box-border, none);
  border-radius: var(--dyn-box-radius, var(--dyn-box-border-radius-none));
  box-shadow: var(--dyn-box-shadow, var(--dyn-box-shadow-none));

  text-align: var(--dyn-box-text-align, inherit);
  overflow: var(--dyn-box-overflow, visible);
  overflow-x: var(--dyn-box-overflow-x, visible);
  overflow-y: var(--dyn-box-overflow-y, visible);

  /* Grid & Gap Specifics */
  grid-template-columns: var(--dyn-box-grid-columns, none);
  grid-template-rows: var(--dyn-box-grid-rows, none);
  grid-template-areas: var(--dyn-box-grid-areas, none);
  row-gap: var(--dyn-box-row-gap, normal);
  column-gap: var(--dyn-box-column-gap, normal);
  align-content: var(--dyn-box-align-content, normal);
  align-items: var(--dyn-box-align-items, normal);
  justify-content: var(--dyn-box-justify-content, normal);
  flex-direction: var(--dyn-box-flex-direction, row);
  flex-wrap: var(--dyn-box-flex-wrap, nowrap);

  transition: var(--dyn-box-transition, var(--dyn-box-transition-default));
}

/* ============================================
   DISPLAY VARIANTS
   ============================================ */

.boxInline { --dyn-box-display: var(--dyn-box-display-inline); }
.boxInlineBlock { --dyn-box-display: var(--dyn-box-display-inline-block); }
.boxNone { --dyn-box-display: var(--dyn-box-display-none); }
.boxFlex { --dyn-box-display: var(--dyn-box-display-flex); }
.boxInlineFlex { --dyn-box-display: var(--dyn-box-display-inline-flex); }
.boxGrid { --dyn-box-display: var(--dyn-box-display-grid); }

/* ============================================
   POSITION VARIANTS
   ============================================ */
.boxAbsolute { --dyn-box-position: absolute; }
.boxRelative { --dyn-box-position: relative; }
.boxFixed { --dyn-box-position: fixed; }
.boxSticky { --dyn-box-position: sticky; }

/* ============================================
   PADDING VARIANTS (Component Tokens)
   ============================================ */
.boxP0 { --dyn-box-padding: var(--dyn-box-spacing-padding-none); }
.boxP2xs { --dyn-box-padding: var(--dyn-box-spacing-padding-2xs); }
.boxPXs { --dyn-box-padding: var(--dyn-box-spacing-padding-xs); }
.boxPSm { --dyn-box-padding: var(--dyn-box-spacing-padding-sm); }
.boxPMd { --dyn-box-padding: var(--dyn-box-spacing-padding-md); }
.boxPLg { --dyn-box-padding: var(--dyn-box-spacing-padding-lg); }
.boxPXl { --dyn-box-padding: var(--dyn-box-spacing-padding-xl); }
.boxP2xl { --dyn-box-padding: var(--dyn-box-spacing-padding-2xl); }
.boxP3xl { --dyn-box-padding: var(--dyn-box-spacing-padding-3xl); }
.boxP4xl { --dyn-box-padding: var(--dyn-box-spacing-padding-4xl); }

/* ============================================
   MARGIN VARIANTS (Component Tokens)
   ============================================ */
.boxM0 { --dyn-box-margin: var(--dyn-box-spacing-margin-none); }
.boxM2xs { --dyn-box-margin: var(--dyn-box-spacing-margin-2xs); }
.boxMXs { --dyn-box-margin: var(--dyn-box-spacing-margin-xs); }
.boxMSm { --dyn-box-margin: var(--dyn-box-spacing-margin-sm); }
.boxMMd { --dyn-box-margin: var(--dyn-box-spacing-margin-md); }
.boxMLg { --dyn-box-margin: var(--dyn-box-spacing-margin-lg); }
.boxMXl { --dyn-box-margin: var(--dyn-box-spacing-margin-xl); }
.boxM2xl { --dyn-box-margin: var(--dyn-box-spacing-margin-2xl); }
.boxM3xl { --dyn-box-margin: var(--dyn-box-spacing-margin-3xl); }
.boxM4xl { --dyn-box-margin: var(--dyn-box-spacing-margin-4xl); }
.boxMAuto { --dyn-box-margin: var(--dyn-box-spacing-margin-auto); }

/* ============================================
   BACKGROUND VARIANTS (Component Tokens)
   ============================================ */
.boxBgPrimary { 
  --dyn-box-bg: var(--dyn-box-color-bg-primary); 
  --dyn-box-color: var(--dyn-box-text-inverse); 
}
.boxBgSecondary { 
  --dyn-box-bg: var(--dyn-box-color-bg-secondary); 
  --dyn-box-color: var(--dyn-box-text-inverse); 
}
.boxBgTertiary { 
  --dyn-box-bg: var(--dyn-box-color-bg-tertiary); 
  --dyn-box-color: var(--dyn-box-text-inverse); 
}
.boxBgSurface { --dyn-box-bg: var(--dyn-box-color-bg-surface); }
.boxBgMuted { --dyn-box-bg: var(--dyn-box-color-bg-muted); }
.boxBgSuccess { 
  --dyn-box-bg: var(--dyn-box-color-bg-success); 
  --dyn-box-color: var(--dyn-box-text-inverse); 
}
.boxBgWarning { 
  --dyn-box-bg: var(--dyn-box-color-bg-warning);
  --dyn-box-color: var(--dyn-box-text-default);
}
.boxBgDanger { 
  --dyn-box-bg: var(--dyn-box-color-bg-danger); 
  --dyn-box-color: var(--dyn-box-text-inverse); 
}

/* ============================================
   RADIUS VARIANTS
   ============================================ */
.boxRoundedNone { --dyn-box-radius: var(--dyn-box-border-radius-none); }
.boxRoundedSm { --dyn-box-radius: var(--dyn-box-border-radius-sm); }
.boxRoundedMd { --dyn-box-radius: var(--dyn-box-border-radius-md); }
.boxRoundedLg { --dyn-box-radius: var(--dyn-box-border-radius-lg); }
.boxRoundedFull { --dyn-box-radius: var(--dyn-box-border-radius-full); }

/* ============================================
   SHADOW VARIANTS
   ============================================ */
.boxShadowSm { --dyn-box-shadow: var(--dyn-box-shadow-sm); }
.boxShadowMd { --dyn-box-shadow: var(--dyn-box-shadow-md); }
.boxShadowLg { --dyn-box-shadow: var(--dyn-box-shadow-lg); }

/* ============================================
   TEXT ALIGN & OVERFLOW
   ============================================ */
.boxTextLeft { --dyn-box-text-align: left; }
.boxTextCenter { --dyn-box-text-align: center; }
.boxTextRight { --dyn-box-text-align: right; }

.boxOverflowHidden { --dyn-box-overflow: hidden; }
.boxOverflowAuto { --dyn-box-overflow: auto; }
.boxOverflowScroll { --dyn-box-overflow: scroll; }

/* ============================================
   MISC
   ============================================ */
.boxBorder { --dyn-box-border: var(--dyn-box-border-width-sm) solid var(--dyn-box-color-border-default); }
.boxInteractive { cursor: pointer; }
.boxInteractive:hover { transform: translateY(-1px); box-shadow: var(--dyn-box-shadow-md); }
.boxInteractive:focus-visible { outline: 2px solid var(--dyn-box-color-border-focus); outline-offset: 2px; }

/* ============================================
   ACCESSIBILITY
   ============================================ */
.dynSrOnly {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0 0 0 0);
  white-space: nowrap;
  border: 0;
}

@media (prefers-reduced-motion: reduce) {
  .box, .boxInteractive { transition: none; }
}