.container {
  /* Component tokens with fallbacks to system tokens */
  --dyn-checkbox-bg: var(--dyn-neutral-light-white, #ffffff);
  --dyn-checkbox-border: var(--dyn-neutral-light-200, #d1d5db);
  --dyn-checkbox-border-hover: var(--dyn-neutral-mid-400, #9ca3af);
  --dyn-checkbox-bg-checked: var(--dyn-theme-primary, #2563eb);
  --dyn-checkbox-border-checked: var(--dyn-theme-primary, #2563eb);
  --dyn-checkbox-checkmark-color: #ffffff;
  --dyn-checkbox-disabled-bg: var(--dyn-neutral-light-100, #f3f4f6);
  --dyn-checkbox-error: var(--dyn-feedback-negative-default, #d32f2f);

  --dyn-checkbox-radius: 4px;
  --dyn-checkbox-size: 18px;
  --dyn-checkbox-transition: var(--dyn-transition-normal, 0.2s ease-in-out);
  --dyn-checkbox-focus-ring: var(--dyn-action-focus, rgba(37, 99, 235, 0.35));

  display: inline-flex;
  flex-direction: column;
}

.wrapper {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: all var(--dyn-checkbox-transition);
}

.input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

.box {
  width: var(--dyn-checkbox-size);
  height: var(--dyn-checkbox-size);
  border: 1px solid var(--dyn-checkbox-border);
  border-radius: var(--dyn-checkbox-radius);
  background-color: var(--dyn-checkbox-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--dyn-checkbox-transition);
  flex-shrink: 0;
}

.input:focus-visible+.box {
  box-shadow: 0 0 0 3px var(--dyn-checkbox-focus-ring);
}

.boxChecked {
  background-color: var(--dyn-checkbox-bg-checked);
  border-color: var(--dyn-checkbox-border-checked);
}

.boxIndeterminate {
  background-color: var(--dyn-checkbox-bg-checked);
  border-color: var(--dyn-checkbox-border-checked);
}

.boxError {
  border-color: var(--dyn-checkbox-error);
}

.boxDisabled {
  background-color: var(--dyn-checkbox-disabled-bg);
  cursor: not-allowed;
  opacity: 0.6;
}

.checkmark {
  color: var(--dyn-checkbox-checkmark-color);
  width: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.label {
  color: var(--dyn-neutral-dark-900);
  font-size: var(--dyn-font-size-sm, 14px);
  user-select: none;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .container {
    --dyn-checkbox-bg: var(--dyn-neutral-dark-900, #1e293b);
    --dyn-checkbox-border: var(--dyn-neutral-dark-700, #334155);
    --dyn-checkbox-bg-checked: var(--dyn-theme-primary, #3b82f6);
  }

  .label {
    color: var(--dyn-neutral-light-100);
  }
}