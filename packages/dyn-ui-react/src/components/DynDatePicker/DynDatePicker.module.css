/* ==========================================================================
   DynDatePicker Component Styles
   Standardized with design tokens
   ========================================================================== */

:root {
  /* Color Tokens */
  --dyn-date-picker-bg: var(--dyn-color-surface, var(--color-surface, #ffffff));
  --dyn-date-picker-border: var(--dyn-color-border, var(--color-border, #d0d5dd));
  --dyn-date-picker-border-hover: var(--dyn-color-border-hover, var(--color-border-hover, #9ca3af));
  --dyn-date-picker-border-focus: var(--dyn-color-primary, var(--color-primary, #2563eb));
  --dyn-date-picker-text-primary: var(--dyn-color-text-primary, var(--color-text-primary, #111827));
  --dyn-date-picker-text-placeholder: var(--dyn-color-text-placeholder, var(--color-text-placeholder, #9ca3af));
  --dyn-date-picker-text-secondary: var(--dyn-color-text-secondary, var(--color-text-secondary, #475569));
  --dyn-date-picker-text-disabled: var(--dyn-color-text-disabled, var(--color-text-disabled, #94a3b8));
  --dyn-date-picker-bg-disabled: var(--dyn-color-surface-disabled, var(--color-surface-disabled, #f1f5f9));
  --dyn-date-picker-border-disabled: var(--dyn-color-border-disabled, var(--color-border-disabled, #e2e8f0));
  --dyn-date-picker-bg-readonly: var(--dyn-color-surface-readonly, var(--color-surface-readonly, #f8fafc));
  --dyn-date-picker-bg-hover: var(--dyn-color-surface-hover, var(--color-surface-hover, #f1f5f9));
  --dyn-date-picker-bg-selected: var(--dyn-color-primary-light, var(--color-primary-light, #eff6ff));
  --dyn-date-picker-text-selected: var(--dyn-color-primary, var(--color-primary, #2563eb));
  --dyn-date-picker-border-error: var(--dyn-color-error, var(--color-error, #ef4444));
  --dyn-date-picker-error-alpha: rgba(239, 68, 68, 0.1);
  --dyn-date-picker-focus-ring-color: rgba(37, 99, 235, 0.16);

  /* Size Tokens */
  --dyn-date-picker-height: 40px;
  --dyn-date-picker-height-sm: 32px;
  --dyn-date-picker-height-lg: 48px;
  --dyn-date-picker-padding-y: var(--dyn-spacing-sm, var(--spacing-sm, 8px));
  --dyn-date-picker-padding-x: var(--dyn-spacing-md, var(--spacing-md, 12px));
  --dyn-date-picker-padding-y-sm: var(--dyn-spacing-xs, var(--spacing-xs, 6px));
  --dyn-date-picker-padding-x-sm: var(--dyn-spacing-sm, var(--spacing-sm, 8px));
  --dyn-date-picker-padding-y-lg: var(--dyn-spacing-md, var(--spacing-md, 12px));
  --dyn-date-picker-padding-x-lg: var(--dyn-spacing-lg, var(--spacing-lg, 16px));
  --dyn-date-picker-button-size: 28px;
  --dyn-date-picker-button-offset: var(--dyn-spacing-xl, var(--spacing-xl, 80px));
  --dyn-date-picker-button-offset-lg: var(--dyn-spacing-xl, var(--spacing-xl, 90px));
  --dyn-date-picker-clear-button-offset: 4px;
  --dyn-date-picker-dropdown-padding: var(--dyn-spacing-md, var(--spacing-md, 16px));
  --dyn-date-picker-dropdown-offset: var(--dyn-spacing-xs, var(--spacing-xs, 4px));
  --dyn-date-picker-gap: var(--dyn-spacing-sm, var(--spacing-sm, 8px));

  /* Typography */
  --dyn-date-picker-font-family: var(--dyn-font-family-base, var(--font-family-base, system-ui, -apple-system, sans-serif));
  --dyn-date-picker-font-size: var(--dyn-font-size-base, var(--font-size-base, 16px));
  --dyn-date-picker-font-size-sm: var(--dyn-font-size-sm, var(--font-size-sm, 14px));
  --dyn-date-picker-font-size-lg: var(--dyn-font-size-lg, var(--font-size-lg, 18px));
  --dyn-date-picker-line-height: 1.5;

  /* Border */
  --dyn-date-picker-border-radius: var(--dyn-border-radius-md, var(--border-radius-md, 8px));
  --dyn-date-picker-border-radius-sm: var(--dyn-border-radius-sm, var(--border-radius-sm, 6px));
  --dyn-date-picker-border-width: 1px;

  /* Transition */
  --dyn-date-picker-transition: var(--dyn-transition-base, var(--transition-base, 0.18s ease));

  /* Shadow */
  --dyn-date-picker-shadow: var(--dyn-shadow-lg, var(--shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)));

  /* Focus outline */
  --dyn-date-picker-focus-outline: 2px solid var(--dyn-date-picker-border-focus);
}

.container {
  position: relative;
  width: 100%;
}

.inputContainer {
  position: relative;
  display: flex;
  align-items: center;
}

.input {
  flex: 1;
  width: 100%;
  height: var(--dyn-date-picker-height);
  padding: var(--dyn-date-picker-padding-y) var(--dyn-date-picker-button-offset) var(--dyn-date-picker-padding-y)
    var(--dyn-date-picker-padding-x);
  font-family: var(--dyn-date-picker-font-family);
  font-size: var(--dyn-date-picker-font-size);
  line-height: var(--dyn-date-picker-line-height);
  color: var(--dyn-date-picker-text-primary);
  background-color: var(--dyn-date-picker-bg);
  border: var(--dyn-date-picker-border-width) solid var(--dyn-date-picker-border);
  border-radius: var(--dyn-date-picker-border-radius);
  transition: all var(--dyn-date-picker-transition);
}

.input::placeholder {
  color: var(--dyn-date-picker-text-placeholder);
  opacity: 1;
}

.input:hover:not(:disabled):not(:read-only) {
  border-color: var(--dyn-date-picker-border-hover);
}

.input:focus {
  outline: none;
  border-color: var(--dyn-date-picker-border-focus);
  box-shadow: 0 0 0 3px var(--dyn-date-picker-focus-ring-color);
}

.input:focus-visible {
  outline: var(--dyn-date-picker-focus-outline);
}

.input:disabled {
  background-color: var(--dyn-date-picker-bg-disabled);
  color: var(--dyn-date-picker-text-disabled);
  cursor: not-allowed;
  border-color: var(--dyn-date-picker-border-disabled);
}

.input:read-only {
  background-color: var(--dyn-date-picker-bg-readonly);
  cursor: default;
}

.sizeSmall {
  font-size: var(--dyn-date-picker-font-size-sm);
  height: var(--dyn-date-picker-height-sm);
  padding: var(--dyn-date-picker-padding-y-sm) 70px var(--dyn-date-picker-padding-y-sm)
    var(--dyn-date-picker-padding-x-sm);
}

.sizeLarge {
  font-size: var(--dyn-date-picker-font-size-lg);
  height: var(--dyn-date-picker-height-lg);
  padding: var(--dyn-date-picker-padding-y-lg) var(--dyn-date-picker-button-offset-lg)
    var(--dyn-date-picker-padding-y-lg) var(--dyn-date-picker-padding-x-lg);
}

.stateFocused,
.stateOpen {
  border-color: var(--dyn-date-picker-border-focus);
}

.stateError {
  border-color: var(--dyn-date-picker-border-error);
}

.stateError:focus {
  box-shadow: 0 0 0 3px var(--dyn-date-picker-error-alpha);
}

.stateDisabled {
  cursor: not-allowed;
}

.stateReadonly {
  cursor: default;
}

.calendarButton,
.clearButton {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--dyn-date-picker-button-size);
  height: var(--dyn-date-picker-button-size);
  padding: var(--dyn-spacing-xs, var(--spacing-xs, 4px));
  background: none;
  border: none;
  border-radius: var(--dyn-date-picker-border-radius-sm);
  color: var(--dyn-date-picker-text-secondary);
  cursor: pointer;
  transition: all var(--dyn-date-picker-transition);
  font-family: var(--dyn-date-picker-font-family);
}

.calendarButton:hover:not(:disabled),
.clearButton:hover:not(:disabled) {
  color: var(--dyn-date-picker-text-primary);
  background-color: var(--dyn-date-picker-bg-hover);
}

.calendarButton:focus-visible,
.clearButton:focus-visible {
  outline: var(--dyn-date-picker-focus-outline);
  outline-offset: 2px;
}

.calendarButton:disabled,
.clearButton:disabled {
  color: var(--dyn-date-picker-text-disabled);
  cursor: not-allowed;
}

.calendarButton {
  right: var(--dyn-date-picker-button-offset);
}

.clearButton {
  right: var(--dyn-date-picker-clear-button-offset);
}

.relativeText {
  margin-top: var(--dyn-date-picker-padding-y-sm);
  font-size: var(--dyn-date-picker-font-size-sm);
  font-style: italic;
  color: var(--dyn-date-picker-text-secondary);
}

.dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 1000;
  margin-top: var(--dyn-date-picker-dropdown-offset);
  padding: var(--dyn-date-picker-dropdown-padding);
  background-color: var(--dyn-date-picker-bg);
  border: var(--dyn-date-picker-border-width) solid var(--dyn-date-picker-border);
  border-radius: var(--dyn-date-picker-border-radius);
  box-shadow: var(--dyn-date-picker-shadow);
  font-family: var(--dyn-date-picker-font-family);
}

.shortcuts {
  display: flex;
  gap: var(--dyn-date-picker-gap);
  margin-bottom: var(--dyn-date-picker-dropdown-padding);
  padding-bottom: var(--dyn-date-picker-dropdown-padding);
  border-bottom: var(--dyn-date-picker-border-width) solid var(--dyn-date-picker-border);
  flex-wrap: wrap;
}

.shortcut {
  padding: var(--dyn-date-picker-padding-y) var(--dyn-date-picker-padding-x);
  font-size: var(--dyn-date-picker-font-size-sm);
  color: var(--dyn-date-picker-text-primary);
  background: none;
  border: var(--dyn-date-picker-border-width) solid var(--dyn-date-picker-border);
  border-radius: var(--dyn-date-picker-border-radius);
  cursor: pointer;
  transition: all var(--dyn-date-picker-transition);
  font-family: var(--dyn-date-picker-font-family);
}

.shortcut:hover {
  background-color: var(--dyn-date-picker-bg-hover);
  border-color: var(--dyn-date-picker-border-focus);
}

.shortcut:focus-visible {
  outline: var(--dyn-date-picker-focus-outline);
  outline-offset: 2px;
}

.helpTitle {
  margin-bottom: var(--dyn-spacing-sm, var(--spacing-sm, 8px));
  font-size: var(--dyn-date-picker-font-size-sm);
  font-weight: var(--dyn-font-weight-medium, var(--font-weight-medium, 500));
  color: var(--dyn-date-picker-text-primary);
}

.helpList {
  margin: 0;
  padding: 0;
  list-style: none;
}

.helpListItem {
  position: relative;
  margin-bottom: var(--dyn-spacing-xs, var(--spacing-xs, 4px));
  padding-left: var(--dyn-date-picker-padding-x);
  font-size: var(--dyn-date-picker-font-size-sm);
  color: var(--dyn-date-picker-text-secondary);
  line-height: var(--dyn-date-picker-line-height);
}

.helpListItem::before {
  content: 'â€¢';
  position: absolute;
  left: 0;
  color: var(--dyn-date-picker-border-focus);
}

.helpListItem:last-child {
  margin-bottom: 0;
}

@media (prefers-contrast: more) {
  .input:focus {
    box-shadow:
      0 0 0 3px var(--dyn-date-picker-focus-ring-color),
      0 0 0 6px var(--dyn-date-picker-border);
    outline: var(--dyn-date-picker-focus-outline);
    outline-offset: 2px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .input,
  .calendarButton,
  .clearButton,
  .shortcut {
    transition: none;
  }
}

@media (prefers-color-scheme: dark) {
  :root {
    --dyn-date-picker-bg: var(--dyn-color-surface-dark, var(--color-surface-dark, #1e293b));
    --dyn-date-picker-border: var(--dyn-color-border-dark, var(--color-border-dark, #334155));
    --dyn-date-picker-border-hover: var(--dyn-color-border-dark-hover, var(--color-border-dark-hover, #475569));
    --dyn-date-picker-border-focus: var(--dyn-color-primary-dark, var(--color-primary-dark, #3b82f6));
    --dyn-date-picker-text-primary: var(--dyn-color-text-primary-dark, var(--color-text-primary-dark, #f1f5f9));
    --dyn-date-picker-text-placeholder: var(--dyn-color-text-placeholder-dark, var(--color-text-placeholder-dark, #6b7280));
    --dyn-date-picker-text-secondary: var(--dyn-color-text-secondary-dark, var(--color-text-secondary-dark, #9ca3af));
    --dyn-date-picker-text-disabled: var(--dyn-color-text-disabled-dark, var(--color-text-disabled-dark, #6b7280));
    --dyn-date-picker-bg-disabled: var(--dyn-color-surface-disabled-dark, var(--color-surface-disabled-dark, #334155));
    --dyn-date-picker-border-disabled: var(--dyn-color-border-disabled-dark, var(--color-border-disabled-dark, #475569));
    --dyn-date-picker-bg-readonly: var(--dyn-color-surface-readonly-dark, var(--color-surface-readonly-dark, #2d3748));
    --dyn-date-picker-bg-hover: var(--dyn-color-surface-hover-dark, var(--color-surface-hover-dark, #2d3748));
    --dyn-date-picker-bg-selected: rgba(59, 130, 246, 0.2);
    --dyn-date-picker-text-selected: var(--dyn-color-primary-dark, var(--color-primary-dark, #3b82f6));
    --dyn-date-picker-focus-ring-color: rgba(59, 130, 246, 0.2);
  }
}

@media (max-width: 767px) {
  .input {
    height: 44px;
  }

  .sizeSmall {
    height: 40px;
  }

  .sizeLarge {
    height: 52px;
  }

  .dropdown {
    max-height: 50vh;
    overflow-y: auto;
  }

  .shortcuts {
    flex-direction: column;
  }

  .shortcut {
    width: 100%;
  }
}
