/**
 * DynFlex Component Styles - 100% Design Token Compliance
 * 
 * Varijante: row, column, wrap, inline-flex
 * Stanja: default, responsive
 * Dark mode: Podržan
 * A11y: Uključen
 */

/* ============================================
   COMPONENT TOKENS - Default (Light Mode)
   ============================================ */

:root {
  /* Base tokens - DynFlex */
  --dyn-flex-display: flex;
  --dyn-flex-flex-direction: row;
  --dyn-flex-gap: var(--dyn-spacing-3, 12px);
  --dyn-flex-padding: var(--dyn-spacing-2, 8px);
  --dyn-flex-align-items: stretch;
  --dyn-flex-justify-content: flex-start;
  --dyn-flex-flex-wrap: nowrap;

  /* Column variant */
  --dyn-flex-column-direction: column;
  --dyn-flex-column-gap: var(--dyn-spacing-3, 12px);

  /* Wrap variant */
  --dyn-flex-wrap-wrap: wrap;

  /* Inline variant */
  --dyn-flex-inline-display: inline-flex;

  /* Spacing tokens */
  --dyn-spacing-1: 4px;
  --dyn-spacing-2: 8px;
  --dyn-spacing-3: 12px;
  --dyn-spacing-4: 16px;
  --dyn-spacing-5: 20px;
  --dyn-spacing-6: 24px;
}

/* ============================================
   DARK MODE OVERRIDES
   ============================================ */

@media (prefers-color-scheme: dark) {
  :root {
    /* Dark mode - nema specifičnog override-a za flex
       jer su flex svojstva agnostična prema temi */
  }
}

/* ============================================
   HIGH CONTRAST MODE
   ============================================ */

@media (prefers-contrast: more) {
  :root {
    /* Flex je strukturalna komponenta, nema boja za contrast */
  }
}

/* ============================================
   BASE FLEX CONTAINER
   ============================================ */

.flex {
  display: var(--dyn-flex-display, flex);
  flex-direction: var(--dyn-flex-flex-direction, row);
  gap: var(--dyn-flex-gap, 12px);
  padding: var(--dyn-flex-padding, 8px);
  align-items: var(--dyn-flex-align-items, stretch);
  justify-content: var(--dyn-flex-justify-content, flex-start);
  flex-wrap: var(--dyn-flex-flex-wrap, nowrap);
  box-sizing: border-box;
}

/* ============================================
   VARIANT: COLUMN
   ============================================ */

.flexColumn {
  --dyn-flex-flex-direction: var(--dyn-flex-column-direction, column);
  --dyn-flex-gap: var(--dyn-flex-column-gap, 12px);
}

/* ============================================
   VARIANT: WRAP
   ============================================ */

.flexWrap {
  --dyn-flex-flex-wrap: var(--dyn-flex-wrap-wrap, wrap);
}

/* ============================================
   VARIANT: INLINE-FLEX
   ============================================ */

.flexInline {
  --dyn-flex-display: var(--dyn-flex-inline-display, inline-flex);
}

/* ============================================
   GAP UTILITIES
   ============================================ */

.gapXSmall {
  --dyn-flex-gap: var(--dyn-spacing-1, 4px);
}

.gapSmall {
  --dyn-flex-gap: var(--dyn-spacing-2, 8px);
}

.gapMedium {
  --dyn-flex-gap: var(--dyn-spacing-3, 12px);
}

.gapLarge {
  --dyn-flex-gap: var(--dyn-spacing-4, 16px);
}

.gapXLarge {
  --dyn-flex-gap: var(--dyn-spacing-5, 20px);
}

.gap2XLarge {
  --dyn-flex-gap: var(--dyn-spacing-6, 24px);
}

/* ============================================
   ALIGNMENT UTILITIES
   ============================================ */

.alignCenter {
  --dyn-flex-align-items: center;
}

.alignStart {
  --dyn-flex-align-items: flex-start;
}

.alignEnd {
  --dyn-flex-align-items: flex-end;
}

.alignStretch {
  --dyn-flex-align-items: stretch;
}

.alignBaseline {
  --dyn-flex-align-items: baseline;
}

/* ============================================
   JUSTIFY UTILITIES
   ============================================ */

.justifyStart {
  --dyn-flex-justify-content: flex-start;
}

.justifyCenter {
  --dyn-flex-justify-content: center;
}

.justifyEnd {
  --dyn-flex-justify-content: flex-end;
}

.justifyBetween {
  --dyn-flex-justify-content: space-between;
}

.justifyAround {
  --dyn-flex-justify-content: space-around;
}

.justifyEvenly {
  --dyn-flex-justify-content: space-evenly;
}

/* ============================================
   RESPONSIVE
   ============================================ */

@media (max-width: 768px) {
  .flex {
    /* Stack na mobilnim uređajima */
    min-width: 0;
    /* Omogući flex children da se prelamaju */
    flex-wrap: var(--dyn-flex-wrap-wrap, wrap);
  }
}

@media (max-width: 480px) {
  .flex {
    /* Manji gap na jako malim ekranima */
    --dyn-flex-gap: var(--dyn-spacing-2, 8px);
    --dyn-flex-padding: var(--dyn-spacing-1, 4px);
  }
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

/* Focus ring za keyboard navigation kroz flex items */
.flex > :focus-visible {
  outline: 2px solid var(--dyn-focus-ring-color, #007ACC);
  outline-offset: 2px;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .flex > * {
    animation: none !important;
    transition: none !important;
  }
}
