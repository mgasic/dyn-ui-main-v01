/* ==========================================================================
   DynListView Component Styles
   Fully aligned with design tokens system
   ========================================================================== */

.root {
  /* Component Tokens */
  --dyn-list-view-bg: var(--dyn-color-background, var(--color-background, #ffffff));
  --dyn-list-view-border: var(--dyn-color-border, var(--color-border, #e5e7eb));
  --dyn-list-view-radius: var(--dyn-border-radius-md, var(--border-radius-md, 8px));
  --dyn-list-view-padding: var(--dyn-spacing-sm, var(--spacing-sm, 8px));
  --dyn-list-view-font-family: var(--dyn-font-family-base, var(--font-family-base, system-ui, -apple-system, sans-serif));

  /* Item Tokens */
  --dyn-list-view-item-bg-hover: var(--dyn-color-surface-hover, var(--color-surface-hover, #f3f4f6));
  --dyn-list-view-item-bg-active: var(--dyn-color-surface-hover, var(--color-surface-hover, #f3f4f6));
  --dyn-list-view-item-border-active: var(--dyn-color-primary, var(--color-primary, #2563eb));
  --dyn-list-view-item-bg-selected: rgba(37, 99, 235, 0.1);
  --dyn-list-view-item-color-selected: var(--dyn-color-primary, var(--color-primary, #2563eb));
  --dyn-list-view-text-primary: var(--dyn-color-text-primary, var(--color-text-primary, #111827));
  --dyn-list-view-text-secondary: var(--dyn-color-text-secondary, var(--color-text-secondary, #6b7280));

  display: flex;
  flex-direction: column;
  width: 100%;
  background: var(--dyn-list-view-bg);
  border: 1px solid var(--dyn-list-view-border);
  border-radius: var(--dyn-list-view-radius);
  padding: var(--dyn-list-view-padding);
  font-family: var(--dyn-list-view-font-family);
  overflow-y: auto;
  outline: none;
}

.root:focus-visible {
  outline: 2px solid var(--dyn-color-primary, var(--color-primary, #2563eb));
  outline-offset: 2px;
}

/* Root Variants */
.bordered {
  border-width: 2px;
  border-color: var(--dyn-color-border, var(--color-border, #e5e7eb));
}

.rootSmall {
  padding: var(--dyn-spacing-xs, var(--spacing-xs, 4px));
}

.rootLarge {
  padding: var(--dyn-spacing-md, var(--spacing-md, 12px));
}

/* Option (List Item) Styles */
.option {
  display: flex;
  align-items: center;
  gap: var(--dyn-spacing-sm, var(--spacing-sm, 8px));
  padding: var(--dyn-spacing-md, var(--spacing-md, 12px));
  min-height: 48px;
  border-radius: var(--dyn-border-radius-sm, var(--border-radius-sm, 6px));
  cursor: pointer;
  transition: var(--dyn-transition-base, var(--transition-base, 0.18s ease));
  user-select: none;
  background: transparent;
  border: 1px solid transparent;
}

.option:hover:not(.option--disabled) {
  background: var(--dyn-list-view-item-bg-hover);
}

.option--active:not(.option--disabled) {
  background: var(--dyn-list-view-item-bg-active);
  border-color: var(--dyn-list-view-item-border-active);
}

.option--selected {
  background: rgba(37, 99, 235, 0.1);
  color: var(--dyn-color-primary, var(--color-primary, #2563eb));
  font-weight: var(--dyn-font-weight-medium, var(--font-weight-medium, 500));
}

.option--disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* Option Size Variants */
.optionSmall {
  padding: var(--dyn-spacing-sm, var(--spacing-sm, 8px));
  min-height: 40px;
  gap: var(--dyn-spacing-xs, var(--spacing-xs, 4px));
}

.optionLarge {
  padding: var(--dyn-spacing-lg, var(--spacing-lg, 16px));
  min-height: 56px;
  gap: var(--dyn-spacing-md, var(--spacing-md, 12px));
}

/* Checkbox Styles */
.option__checkbox {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
  cursor: pointer;
  accent-color: var(--dyn-color-primary, var(--color-primary, #2563eb));
}

.option__checkbox:disabled {
  cursor: not-allowed;
}

/* Content Area */
.option__content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--dyn-spacing-xs, var(--spacing-xs, 4px));
  min-width: 0;
}

.option__label {
  font-size: var(--dyn-font-size-sm, var(--font-size-sm, 14px));
  font-weight: var(--dyn-font-weight-medium, var(--font-weight-medium, 500));
  line-height: var(--dyn-line-height-normal, var(--line-height-normal, 1.5));
  color: var(--dyn-list-view-text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Label Size Variants */
.option__label--small {
  font-size: var(--dyn-font-size-xs, var(--font-size-xs, 12px));
}

.option__label--large {
  font-size: var(--dyn-font-size-base, var(--font-size-base, 16px));
}

.option__description {
  font-size: var(--dyn-font-size-xs, var(--font-size-xs, 12px));
  font-weight: var(--dyn-font-weight-normal, var(--font-weight-normal, 400));
  line-height: var(--dyn-line-height-relaxed, var(--line-height-relaxed, 1.6));
  color: var(--dyn-list-view-text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Description Size Variants */
.option__description--small {
  font-size: var(--dyn-font-size-2xs, var(--font-size-2xs, 11px));
}

.option__description--large {
  font-size: var(--dyn-font-size-sm, var(--font-size-sm, 14px));
}

/* Expand Button */
.option__expand {
  padding: var(--dyn-spacing-xs, var(--spacing-xs, 4px)) var(--dyn-spacing-sm, var(--spacing-sm, 8px));
  font-size: var(--dyn-font-size-xs, var(--font-size-xs, 12px));
  font-weight: var(--dyn-font-weight-medium, var(--font-weight-medium, 500));
  color: var(--dyn-color-primary, var(--color-primary, #2563eb));
  background: transparent;
  border: 1px solid var(--dyn-color-border, var(--color-border, #e5e7eb));
  border-radius: var(--dyn-border-radius-sm, var(--border-radius-sm, 6px));
  cursor: pointer;
  transition: var(--dyn-transition-base, var(--transition-base, 0.18s ease));
  flex-shrink: 0;
}

.option__expand:hover {
  background: var(--dyn-color-surface-hover, var(--color-surface-hover, #f3f4f6));
  border-color: var(--dyn-color-primary, var(--color-primary, #2563eb));
}

.option__expand:focus-visible {
  outline: 2px solid var(--dyn-color-primary, var(--color-primary, #2563eb));
  outline-offset: 2px;
}

/* Actions Container */
.option__actions {
  display: flex;
  gap: var(--dyn-spacing-xs, var(--spacing-xs, 4px));
  flex-shrink: 0;
}

/* Action Buttons */
.action-button {
  padding: var(--dyn-spacing-xs, var(--spacing-xs, 4px)) var(--dyn-spacing-sm, var(--spacing-sm, 8px));
  font-size: var(--dyn-font-size-xs, var(--font-size-xs, 12px));
  font-weight: var(--dyn-font-weight-medium, var(--font-weight-medium, 500));
  font-family: var(--dyn-font-family-base, var(--font-family-base, system-ui, -apple-system, sans-serif));
  color: var(--dyn-color-text-primary, var(--color-text-primary, #111827));
  background: var(--dyn-color-background, var(--color-background, #ffffff));
  border: 1px solid var(--dyn-color-border, var(--color-border, #e5e7eb));
  border-radius: var(--dyn-border-radius-sm, var(--border-radius-sm, 6px));
  cursor: pointer;
  transition: var(--dyn-transition-base, var(--transition-base, 0.18s ease));
  white-space: nowrap;
}

.action-button:hover {
  background: var(--dyn-color-surface-hover, var(--color-surface-hover, #f3f4f6));
  border-color: var(--dyn-color-primary, var(--color-primary, #2563eb));
}

.action-button:focus-visible {
  outline: 2px solid var(--dyn-color-primary, var(--color-primary, #2563eb));
  outline-offset: 2px;
}

.action-button--primary {
  color: #ffffff;
  background: var(--dyn-color-primary, var(--color-primary, #2563eb));
  border-color: var(--dyn-color-primary, var(--color-primary, #2563eb));
}

.action-button--primary:hover {
  background: var(--dyn-color-primary-hover, var(--color-primary-hover, #1d4ed8));
  border-color: var(--dyn-color-primary-hover, var(--color-primary-hover, #1d4ed8));
}

.action-button--danger {
  color: var(--dyn-color-error, var(--color-error, #dc2626));
  border-color: var(--dyn-color-error, var(--color-error, #dc2626));
}

.action-button--danger:hover {
  color: #ffffff;
  background: var(--dyn-color-error, var(--color-error, #dc2626));
}

.action-button--success {
  color: var(--dyn-color-success, var(--color-success, #16a34a));
  border-color: var(--dyn-color-success, var(--color-success, #16a34a));
}

.action-button--success:hover {
  color: #ffffff;
  background: var(--dyn-color-success, var(--color-success, #16a34a));
}

/* Expanded Details */
.option__details {
  margin-top: var(--dyn-spacing-sm, var(--spacing-sm, 8px));
  padding: var(--dyn-spacing-md, var(--spacing-md, 12px));
  background: var(--dyn-color-surface, var(--color-surface, #f9fafb));
  border: 1px solid var(--dyn-color-border, var(--color-border, #e5e7eb));
  border-radius: var(--dyn-border-radius-sm, var(--border-radius-sm, 6px));
  font-size: var(--dyn-font-size-xs, var(--font-size-xs, 12px));
  line-height: var(--dyn-line-height-relaxed, var(--line-height-relaxed, 1.6));
}

.option__details>div {
  padding: var(--dyn-spacing-xs, var(--spacing-xs, 4px)) 0;
  border-bottom: 1px solid var(--dyn-color-border, var(--color-border, #e5e7eb));
}

.option__details>div:last-child {
  border-bottom: none;
}

.option__details strong {
  font-weight: var(--dyn-font-weight-semibold, var(--font-weight-semibold, 600));
  color: var(--dyn-color-text-primary, var(--color-text-primary, #111827));
  margin-right: var(--dyn-spacing-xs, var(--spacing-xs, 4px));
}

/* Loading State */
.loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--dyn-spacing-xl, var(--spacing-xl, 32px));
  font-size: var(--dyn-font-size-sm, var(--font-size-sm, 14px));
  font-weight: var(--dyn-font-weight-medium, var(--font-weight-medium, 500));
  color: var(--dyn-color-text-secondary, var(--color-text-secondary, #6b7280));
}

/* Empty State */
.empty {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--dyn-spacing-xl, var(--spacing-xl, 32px));
  font-size: var(--dyn-font-size-sm, var(--font-size-sm, 14px));
  font-weight: var(--dyn-font-weight-normal, var(--font-weight-normal, 400));
  color: var(--dyn-color-text-secondary, var(--color-text-secondary, #6b7280));
  text-align: center;
}

/* Responsive Styles */
@media (max-width: 768px) {
  .root {
    padding: var(--dyn-spacing-xs, var(--spacing-xs, 4px));
  }

  .option {
    padding: var(--dyn-spacing-sm, var(--spacing-sm, 8px));
    min-height: 44px;
  }

  .option__label {
    font-size: var(--dyn-font-size-xs, var(--font-size-xs, 12px));
  }

  .option__description {
    font-size: var(--dyn-font-size-2xs, var(--font-size-2xs, 11px));
  }

  .option__actions {
    flex-wrap: wrap;
  }
}

/* Accessibility */
@media (prefers-contrast: more) {
  .root {
    border-width: 2px;
  }

  .option {
    border-width: 2px;
  }

  .option--active:not(.option--disabled) {
    border-width: 3px;
  }
}

@media (prefers-reduced-motion: reduce) {

  .root,
  .option,
  .option__expand,
  .action-button {
    transition: none;
  }
}

/* Dark Mode */
@media (prefers-color-scheme: dark) {
  .root {
    background: var(--dyn-color-background-dark, var(--color-background-dark, #1f2937));
    border-color: var(--dyn-color-border-dark, var(--color-border-dark, #374151));
  }

  .option:hover:not(.option--disabled) {
    background: var(--dyn-color-surface-hover-dark, var(--color-surface-hover-dark, #374151));
  }

  .option--active:not(.option--disabled) {
    background: var(--dyn-color-surface-hover-dark, var(--color-surface-hover-dark, #374151));
    border-color: var(--dyn-color-primary-dark, var(--color-primary-dark, #3b82f6));
  }

  .option--selected {
    background: rgba(59, 130, 246, 0.15);
    color: var(--dyn-color-primary-dark, var(--color-primary-dark, #3b82f6));
  }

  .option__label {
    color: var(--dyn-color-text-primary-dark, var(--color-text-primary-dark, #f1f5f9));
  }

  .option__description {
    color: var(--dyn-color-text-secondary-dark, var(--color-text-secondary-dark, #9ca3af));
  }

  .option__expand {
    color: var(--dyn-color-primary-dark, var(--color-primary-dark, #3b82f6));
    border-color: var(--dyn-color-border-dark, var(--color-border-dark, #374151));
  }

  .option__expand:hover {
    background: var(--dyn-color-surface-hover-dark, var(--color-surface-hover-dark, #374151));
    border-color: var(--dyn-color-primary-dark, var(--color-primary-dark, #3b82f6));
  }

  .option__details {
    background: var(--dyn-color-surface-dark, var(--color-surface-dark, #111827));
    border-color: var(--dyn-color-border-dark, var(--color-border-dark, #374151));
  }

  .option__details strong {
    color: var(--dyn-color-text-primary-dark, var(--color-text-primary-dark, #f1f5f9));
  }

  .loading,
  .empty {
    color: var(--dyn-color-text-secondary-dark, var(--color-text-secondary-dark, #9ca3af));
  }

  .action-button {
    color: var(--dyn-color-text-primary-dark, var(--color-text-primary-dark, #f1f5f9));
    background: var(--dyn-color-background-dark, var(--color-background-dark, #1f2937));
    border-color: var(--dyn-color-border-dark, var(--color-border-dark, #374151));
  }

  .action-button:hover {
    background: var(--dyn-color-surface-hover-dark, var(--color-surface-hover-dark, #374151));
    border-color: var(--dyn-color-primary-dark, var(--color-primary-dark, #3b82f6));
  }
}